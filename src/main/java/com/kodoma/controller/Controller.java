package com.kodoma.controller;

import com.kodoma.client.FXWebSocketClient;
import com.kodoma.model.Model;
import javafx.application.Platform;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import org.fxmisc.richtext.CodeArea;

import javax.annotation.PostConstruct;
import java.util.Observable;
import java.util.Observer;

public class Controller implements Observer {

    @FXML private Button powerButton;

    private FXWebSocketClient client;
    private CodeArea codeArea;
    private boolean powerButtonOn = true;

    private final Model model = new Model();

    public Controller() {
        model.addObserver(this);
        ValueHolder.HOLDER.addValue("controller", this);
    }

    @PostConstruct
    private void init() {
        client.sendMessage("client_enable", true);
    }

    @Override
    public void update(Observable o, Object arg) {
        //printLog(arg.toString());
    }

    private void printLog(final String text) {
        Platform.runLater(() -> {
            codeArea.appendText(text + "\n");
            codeArea.scrollYToPixel(codeArea.getContent().getLength());
        });
    }

    public void powerButtonClick(ActionEvent event) {
        printLog("RECEIVED 'NEGOTIATE' REQUEST \n"
                 + "\n"
                 + "NEGOTIATE sip:127.0.0.1:5061 SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bK5B90B097.2E977935DD21634A;branched=FALSE;rport=52610\n"
                 + "Max-Forwards: 0\n"
                 + "From: <sip:server4961-vm03.csi71siteb.lab>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "To: <sip:server5141-vm02.richlab.avaya.com>\n"
                 + "Call-ID: DC8EE8FB400FB5E61C4C\n"
                 + "CSeq: 1 NEGOTIATE\n"
                 + "Require: ms-compression\n"
                 + "ms-negotiate-data: LZ77-64K\n"
                 + "Supported: NewNegotiate,OCSNative,ECC,IPv6,TlsRecordSplit,PstnTrafficType,Draining\n"
                 + "Server: RTC/6.0\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'NEGOTIATE' REQUEST \n"
                 + "\n"
                 + "NEGOTIATE sip:127.0.0.1:5061 SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKF7BC46A9.B837BEF1DD21634A;branched=FALSE;rport=52610\n"
                 + "Max-Forwards: 0\n"
                 + "From: <sip:server4961-vm03.csi71siteb.lab>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "To: <sip:server5141-vm02.richlab.avaya.com>\n"
                 + "Call-ID: D7B3C865B42F6768CA18\n"
                 + "CSeq: 1 NEGOTIATE\n"
                 + "Require: ms-feature-info\n"
                 + "Supported: NewNegotiate,OCSNative,ECC,IPv6,TlsRecordSplit,PstnTrafficType,Draining\n"
                 + "Server: RTC/6.0\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'INVITE' REQUEST \n"
                 + "\n"
                 + "INVITE sip:6217451231264@avayamcs.com SIP/2.0\n"
                 + "Record-Route: <sip:server4961-vm03.csi71siteb.lab:5061;transport=tls;opaque=state:T;lr>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bK346C51C1.CFACDF84DD1A834A;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Max-Forwards: 69\n"
                 + "ms-application-via: SIP;ms-urc-rs-from;ms-server=server4961-vm03.csi71siteb.lab;ms-pool=server4961-vm03.csi71siteb.lab;ms-application=ad894dc3-55e0-44bf-a07e-3c073aaa4a57\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "CSeq: 1 INVITE\n"
                 + "Contact: <sip:skypeuser7715@csi71siteb.lab;opaque=user:epid:epNxD63sHFmkgEh5qmSl1wAA;gruu>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Supported: ms-dialog-route-set-update,timer,histinfo,ms-safe-transfer,ms-sender,ms-early-media,100rel,replaces,ms-conf-invite\n"
                 + "Ms-Conversation-ID: AdSefOgQKEY3if45SeuZy2Hz4LVPrw==\n"
                 + "ms-keep-alive: UAC;hop-hop=yes\n"
                 + "Allow: INVITE,BYE,ACK,CANCEL,INFO,UPDATE,REFER,NOTIFY,BENOTIFY,OPTIONS\n"
                 + "ms-subnet: 10.130.107.64\n"
                 + "Accept-Language: en-US\n"
                 + "ms-endpoint-location-data: NetworkScope;ms-media-location-type=Intranet\n"
                 + "Content-Type: application/sdp\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "ms-user-data: ms-publiccloud=TRUE;ms-federation=TRUE\n"
                 + "Content-Length: 3162\n"
                 + "\n"
                 + "v=0\n"
                 + "o=- 0 0 IN IP4 10.130.107.110\n"
                 + "s=session\n"
                 + "c=IN IP4 10.130.107.110\n"
                 + "b=CT:99980\n"
                 + "t=0 0\n"
                 + "a=x-devicecaps:audio:send,recv;video:send,recv\n"
                 + "m=audio 15156 RTP/SAVP 117 104 114 9 112 111 0 103 8 116 115 97 13 118 101\n"
                 + "a=x-ssrc-range:3407400421-3407400421\n"
                 + "a=rtcp-fb:* x-message app send:dsh recv:dsh\n"
                 + "a=rtcp-rsize\n"
                 + "a=label:main-audio\n"
                 + "a=x-source:main-audio\n"
                 + "a=ice-ufrag:LlMl\n"
                 + "a=ice-pwd:R/2FNRfT4UaOKa0iMvnK64xM\n"
                 + "a=candidate:1 1 UDP 2130706431 10.130.107.110 15156 typ host \n"
                 + "a=candidate:1 2 UDP 2130705918 10.130.107.110 15157 typ host \n"
                 + "a=x-candidate-ipv6:2 1 UDP 2130705919 2a07:2a41:ae05:115:10:130:107:110 1716 typ host \n"
                 + "a=x-candidate-ipv6:2 2 UDP 2130705406 2a07:2a41:ae05:115:10:130:107:110 1717 typ host \n"
                 + "a=candidate:3 1 TCP-PASS 174455807 135.60.84.158 58324 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=candidate:3 2 TCP-PASS 174455294 135.60.84.158 58324 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=candidate:4 1 UDP 184547839 135.60.84.158 57273 typ relay raddr 10.130.107.110 rport 33108 \n"
                 + "a=candidate:4 2 UDP 184547326 135.60.84.158 50793 typ relay raddr 10.130.107.110 rport 33109 \n"
                 + "a=x-candidate-ipv6:5 1 UDP 184547327 2a07:2a41:ae05:15f:135:60:84:158 58221 typ relay raddr 10.130.107.110 rport 33108 \n"
                 + "a=x-candidate-ipv6:5 2 UDP 184546814 2a07:2a41:ae05:15f:135:60:84:158 58948 typ relay raddr 10.130.107.110 rport 33109 \n"
                 + "a=candidate:6 1 TCP-ACT 174847487 135.60.84.158 58324 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=candidate:6 2 TCP-ACT 174846974 135.60.84.158 58324 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=x-candidate-ipv6:7 1 TCP-PASS 174453759 2a07:2a41:ae05:15f:135:60:84:158 55255 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=x-candidate-ipv6:7 2 TCP-PASS 174453246 2a07:2a41:ae05:15f:135:60:84:158 55255 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=x-candidate-ipv6:8 1 TCP-ACT 174846463 2a07:2a41:ae05:15f:135:60:84:158 55255 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=x-candidate-ipv6:8 2 TCP-ACT 174845950 2a07:2a41:ae05:15f:135:60:84:158 55255 typ relay raddr 10.130.107.110 rport 10892 \n"
                 + "a=candidate:9 1 TCP-ACT 1684795391 10.130.107.110 10892 typ srflx raddr 10.130.107.110 rport 10892 \n"
                 + "a=candidate:9 2 TCP-ACT 1684794878 10.130.107.110 10892 typ srflx raddr 10.130.107.110 rport 10892 \n"
                 + "a=cryptoscale:1 client AES_CM_128_HMAC_SHA1_80 inline:pzedVGCDo0c9ok/07wYZeAHHtBWsU1VM0oWpH23B|2^31|1:1\n"
                 + "a=crypto:2 AES_CM_128_HMAC_SHA1_80 inline:1PMBNSDyrEkhsNr+T8tDX7hLoYHi16SL8aNnvmyK|2^31|1:1\n"
                 + "a=crypto:3 AES_CM_128_HMAC_SHA1_80 inline:a+cnQTvzQPmv6f6Of3rPZChExrIvdfYxxBbprldw|2^31\n"
                 + "a=maxptime:200\n"
                 + "a=rtcp:15157\n"
                 + "a=rtpmap:117 G722/8000/2\n"
                 + "a=rtpmap:104 SILK/16000\n"
                 + "a=fmtp:104 useinbandfec=1; usedtx=0\n"
                 + "a=rtpmap:114 x-msrta/16000\n"
                 + "a=fmtp:114 bitrate=29000\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:112 G7221/16000\n"
                 + "a=fmtp:112 bitrate=24000\n"
                 + "a=rtpmap:111 SIREN/16000\n"
                 + "a=fmtp:111 bitrate=16000\n"
                 + "a=rtpmap:0 PCMU/8000\n"
                 + "a=rtpmap:103 SILK/8000\n"
                 + "a=fmtp:103 useinbandfec=1; usedtx=0\n"
                 + "a=rtpmap:8 PCMA/8000\n"
                 + "a=rtpmap:116 AAL2-G726-32/8000\n"
                 + "a=rtpmap:115 x-msrta/8000\n"
                 + "a=fmtp:115 bitrate=11800\n"
                 + "a=rtpmap:97 RED/8000\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:118 CN/16000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-16\n"
                 + "a=rtcp-mux\n"
                 + "a=ptime:20\n"
                 + "\n"
                 + "SENT 'INVITE' REQUEST \n"
                 + "\n"
                 + "INVITE sip:6217451231264@135.60.86.32;transport=TLS SIP/2.0\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 1 INVITE\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>\n"
                 + "Max-Forwards: 70\n"
                 + "Contact: <sip:skypeuser7715@135.60.86.6:5061;transport=tls;clientId=10ddacb4-1cd0-4128-a41f-960351df3f86;subid_ipcs=-1479273729>;+sip.instance=\"<urn:uuid:10ddacb4-1cd0-4128-a41f-960351df3f86>\"\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_3689ebb4-7cd0-4555-b48d-ddffa2cfb0bd\n"
                 + "Supported: eventlist,outbound,replaces,timer\n"
                 + "Allow: INVITE,ACK,OPTIONS,BYE,CANCEL,NOTIFY,MESSAGE,REFER,INFO,PUBLISH,UPDATE\n"
                 + "Content-Type: application/sdp\n"
                 + "Route: <sip:135.60.86.32:5061;transport=TLS;lr>\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Content-Length: 687\n"
                 + "\n"
                 + "v=0\n"
                 + "o=AMS 1 2 IN IP4 135.60.86.230\n"
                 + "s=-\n"
                 + "e=unknown@invalid.net\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "t=0 0\n"
                 + "m=audio 6092 RTP/AVP 96 9 97 98 0 8 99 18 13 101\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "a=rtpmap:96 opus/48000/2\n"
                 + "a=fmtp:96 maxplaybackrate=16000; sprop-maxcapturerate=16000; maxaveragebitrate=20000; stereo=0; useinbandfec=0; usedtx=0; cbr=0; sprop-stereo=0\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:97 G7221/16000\n"
                 + "a=fmtp:97 bitrate=24000\n"
                 + "a=rtpmap:98 G7221/16000\n"
                 + "a=fmtp:98 bitrate=32000\n"
                 + "a=rtpmap:0 PCMU/8000\n"
                 + "a=rtpmap:8 PCMA/8000\n"
                 + "a=rtpmap:99 G726-32/8000\n"
                 + "a=rtpmap:18 G729/8000\n"
                 + "a=fmtp:18 annexb=no\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=sendrecv\n"
                 + "a=maxptime:20\n"
                 + "a=ptime:20\n"
                 + "a=minptime:20\n"
                 + "\n"
                 + "RECEIVED 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 180 Ringing\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 1 INVITE\n"
                 + "Supported: replaces,tdialog,timer\n"
                 + "Rv-Guid: 658594315 175116777 2244485444 2378622895\n"
                 + "Rv-Guid-Str: 27415A0B0A7011E985C821448DC6E7AF\n"
                 + "Accept: application/sdp,audio/telephone-event,application/media_control+xml\n"
                 + "Accept-Language: en\n"
                 + "Accept-Encoding: text\n"
                 + "Allow: INVITE,ACK,CANCEL,BYE,INFO,OPTIONS,UPDATE,REFER,NOTIFY\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_3689ebb4-7cd0-4555-b48d-ddffa2cfb0bd\n"
                 + "Contact: \"6217451231264\" <sip:6217451231264@135.60.86.32:5061;transport=TLS>\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "SENT 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 180 Ringing\n"
                 + "CSeq: 1 INVITE\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bK346C51C1.CFACDF84DD1A834A;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Record-Route: <sip:server4961-vm03.csi71siteb.lab:5061;transport=tls;opaque=state:T;lr>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "Server: Avaya Aura Web Gateway\n"
                 + "Contact: <sip:135.60.86.6:5061;transport=tls>\n"
                 + "Supported: eventlist,outbound,replaces,timer\n"
                 + "Allow: INVITE,ACK,OPTIONS,BYE,CANCEL,NOTIFY,MESSAGE,REFER,INFO,PUBLISH,UPDATE\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 1 INVITE\n"
                 + "Accept: application/conference-info+xml,application/ccmp+xml,application/sdp,audio/telephone-event,application/media_control+xml\n"
                 + "Allow-Events: conference\n"
                 + "Supported: replaces,tdialog,timer\n"
                 + "User-Agent: RADVision ViaIp MCU 9.1.0 RVID53416241474658415f\n"
                 + "Rv-Guid: 658594315 175116777 2244485444 2378622895\n"
                 + "Rv-Guid-Str: 27415A0B0A7011E985C821448DC6E7AF\n"
                 + "Accept-Language: en\n"
                 + "Accept-Encoding: text\n"
                 + "Call-Info: <sip:6217451231264@135.60.86.32;token=49481>;Purpose=isfocus;gsid=27415A0B0A7011E985C821448DC6E7AF,<sip:6217451231264@135.60.86.32>;Purpose=ccmp,<https://csi7d-iview.richlab.avaya.com:443/uwd/ws?ticket=27415A0B0A7011E985C821448DC6E7AF>;Purpose=UCCP\n"
                 + "P-Conference: OutdialPrompt=false, FeedbackPrompts=false, UCCP=false\n"
                 + "Allow: INVITE,ACK,CANCEL,BYE,INFO,OPTIONS,UPDATE,REFER,NOTIFY,SUBSCRIBE,PRACK\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_3689ebb4-7cd0-4555-b48d-ddffa2cfb0bd\n"
                 + "Contact: \"6217451231264\" <sip:6217451231264@135.60.86.32:5061;transport=TLS>;isfocus\n"
                 + "Session-Expires: 3600;refresher=uas\n"
                 + "Content-Type: application/sdp\n"
                 + "Content-Length: 468\n"
                 + "\n"
                 + "v=0\n"
                 + "o=RV-MCU 729925770 729925770 IN IP4 135.60.84.185\n"
                 + "s=RV MCU Session\n"
                 + "c=IN IP4 135.60.84.185\n"
                 + "b=AS:64\n"
                 + "t=0 0\n"
                 + "a=activetalker:1 \n"
                 + "a=videostream:1 \n"
                 + "m=audio 16436 RTP/AVP 96 101\n"
                 + "c=IN IP4 135.60.84.185\n"
                 + "a=rtpmap:96 opus/48000/2\n"
                 + "a=fmtp:96 minptime=20; useinbandfec=0; maxplaybackrate=16000; sprop-maxcapturerate=16000; maxaveragebitrate=20000; stereo=0; sprop-stereo=0; cbr=0; usedtx=0\n"
                 + "a=maxptime:20\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-15\n"
                 + "a=sendrecv\n"
                 + "\n"
                 + "SENT 'ACK' REQUEST \n"
                 + "\n"
                 + "ACK sip:6217451231264@135.60.86.32:5061;transport=TLS SIP/2.0\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 1 ACK\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Max-Forwards: 70\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_35e62bbd-3133-46d4-9d88-9f499e5daa95\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "SENT 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "CSeq: 1 INVITE\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bK346C51C1.CFACDF84DD1A834A;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Record-Route: <sip:server4961-vm03.csi71siteb.lab:5061;transport=tls;opaque=state:T;lr>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "Server: Avaya Aura Web Gateway\n"
                 + "Contact: <sip:6217451231264@135.60.86.6:5061;transport=tls>\n"
                 + "Allow: INVITE,ACK,OPTIONS,BYE,CANCEL,NOTIFY,MESSAGE,REFER,INFO,PUBLISH,UPDATE\n"
                 + "P-Conference: UCCP=false\n"
                 + "Supported: eventlist,outbound,replaces,timer\n"
                 + "Content-Type: application/sdp\n"
                 + "Content-Length: 791\n"
                 + "\n"
                 + "v=0\n"
                 + "o=AMS 1 2 IN IP4 127.0.0.1\n"
                 + "s=c51f97d1-6657-37f9-9be0-2a10e060af83\n"
                 + "e=unknown@invalid.net\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "t=0 0\n"
                 + "a=msid-semantic: WMS c51f97d1-6657-37f9-9be0-2a10e060af83\n"
                 + "m=audio 6768 RTP/SAVP 9 13 101\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "a=ice-ufrag:nuD1sy+s\n"
                 + "a=ice-pwd:d2qCGrmPjns+UGyEVaBdCAoc\n"
                 + "a=candidate:32 1 udp 2130706431 135.60.86.230 6768 typ host\n"
                 + "a=end-of-candidates\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-15\n"
                 + "a=maxptime:200\n"
                 + "a=ptime:20\n"
                 + "a=x-ssrc-range:4253574470-4253574470\n"
                 + "a=rtcp-mux\n"
                 + "a=crypto:2 AES_CM_128_HMAC_SHA1_80 inline:eflB24FhwC79QRSxtSUI8bO6i4hRSOU34PJ/jIor|2^31|1:1\n"
                 + "a=ssrc:4253574470 cname:146f2b49-a1a2-11e8-a0fe-b4b52f65c674\n"
                 + "a=ssrc:4253574470 msid:c51f97d1-6657-37f9-9be0-2a10e060af83 audio-0\n"
                 + "a=sendrecv\n"
                 + "\n"
                 + "RECEIVED 'ACK' REQUEST \n"
                 + "\n"
                 + "ACK sip:6217451231264@135.60.86.6:5061;transport=tls SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKC5B4496C.F9811167DDA7234C;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Max-Forwards: 69\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "CSeq: 1 ACK\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'INVITE' REQUEST \n"
                 + "\n"
                 + "INVITE sip:6217451231264@135.60.86.6:5061;transport=tls SIP/2.0\n"
                 + "Record-Route: <sip:server4961-vm03.csi71siteb.lab:5061;transport=tls;opaque=state:T;lr>;tag=B285CDE16969E7C29FB0B46688F1E020\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKB6F156D5.B6CE2DEADDAB134C;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Max-Forwards: 69\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "CSeq: 2 INVITE\n"
                 + "Contact: <sip:skypeuser7715@csi71siteb.lab;opaque=user:epid:epNxD63sHFmkgEh5qmSl1wAA;gruu>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Supported: ms-dialog-route-set-update,timer,histinfo,ms-safe-transfer,ms-sender,ms-early-media,100rel\n"
                 + "Ms-Conversation-ID: AdSefOgQKEY3if45SeuZy2Hz4LVPrw==\n"
                 + "ms-keep-alive: UAC;hop-hop=yes\n"
                 + "ms-subnet: 10.130.107.64\n"
                 + "ms-endpoint-location-data: NetworkScope;ms-media-location-type=Intranet\n"
                 + "Content-Type: application/sdp\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "Content-Length: 720\n"
                 + "\n"
                 + "v=0\n"
                 + "o=- 0 1 IN IP4 10.130.107.110\n"
                 + "s=session\n"
                 + "c=IN IP4 10.130.107.110\n"
                 + "b=CT:99980\n"
                 + "t=0 0\n"
                 + "a=x-devicecaps:audio:send,recv;video:send,recv\n"
                 + "m=audio 15156 RTP/SAVP 9 13 101\n"
                 + "a=x-ssrc-range:3407400421-3407400421\n"
                 + "a=rtcp-fb:* x-message app send:dsh recv:dsh\n"
                 + "a=rtcp-rsize\n"
                 + "a=label:main-audio\n"
                 + "a=x-source:main-audio\n"
                 + "a=ice-ufrag:LlMl\n"
                 + "a=ice-pwd:R/2FNRfT4UaOKa0iMvnK64xM\n"
                 + "a=candidate:1 1 UDP 2130706431 10.130.107.110 15156 typ host \n"
                 + "a=crypto:2 AES_CM_128_HMAC_SHA1_80 inline:1PMBNSDyrEkhsNr+T8tDX7hLoYHi16SL8aNnvmyK|2^31|1:1\n"
                 + "a=remote-candidates:1 135.60.86.230 6768 2 135.60.86.230 6768\n"
                 + "a=maxptime:200\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-16\n"
                 + "a=rtcp-mux\n"
                 + "a=ptime:20\n"
                 + "\n"
                 + "SENT 'INVITE' REQUEST \n"
                 + "\n"
                 + "INVITE sip:6217451231264@135.60.86.32:5061;transport=TLS SIP/2.0\n"
                 + "CSeq: 2 INVITE\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "Max-Forwards: 70\n"
                 + "Contact: \"user 7715,uclab\" <sip:skypeuser7715@135.60.86.6:5061;transport=tls;clientId=10ddacb4-1cd0-4128-a41f-960351df3f86;subid_ipcs=-1479273729>;+sip.instance=\"<urn:uuid:10ddacb4-1cd0-4128-a41f-960351df3f86>\"\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_716bd241-0d1c-499f-b3f0-26f046677292\n"
                 + "Content-Type: application/sdp\n"
                 + "Supported: eventlist,outbound,replaces,timer\n"
                 + "Allow: INVITE,ACK,OPTIONS,BYE,CANCEL,NOTIFY,MESSAGE,REFER,INFO,PUBLISH,UPDATE\n"
                 + "P-Conference: UCCP=false\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Content-Length: 710\n"
                 + "\n"
                 + "v=0\n"
                 + "o=AMS 1 6 IN IP4 135.60.86.230\n"
                 + "s=-\n"
                 + "e=unknown@invalid.net\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "t=0 0\n"
                 + "a=sourceid:3137732955\n"
                 + "m=audio 6092 RTP/AVP 96 9 97 98 0 8 99 18 13 101\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "a=rtpmap:96 opus/48000/2\n"
                 + "a=fmtp:96 maxplaybackrate=16000; sprop-maxcapturerate=16000; maxaveragebitrate=20000; stereo=0; useinbandfec=0; usedtx=0; cbr=0; sprop-stereo=0\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:97 G7221/16000\n"
                 + "a=fmtp:97 bitrate=24000\n"
                 + "a=rtpmap:98 G7221/16000\n"
                 + "a=fmtp:98 bitrate=32000\n"
                 + "a=rtpmap:0 PCMU/8000\n"
                 + "a=rtpmap:8 PCMA/8000\n"
                 + "a=rtpmap:99 G726-32/8000\n"
                 + "a=rtpmap:18 G729/8000\n"
                 + "a=fmtp:18 annexb=no\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=sendrecv\n"
                 + "a=maxptime:20\n"
                 + "a=ptime:20\n"
                 + "a=minptime:20\n"
                 + "\n"
                 + "RECEIVED 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 2 INVITE\n"
                 + "Accept: application/conference-info+xml,application/ccmp+xml,application/sdp,audio/telephone-event,application/media_control+xml\n"
                 + "Allow-Events: conference\n"
                 + "Supported: replaces,tdialog,timer\n"
                 + "User-Agent: RADVision ViaIp MCU 9.1.0 RVID53416241474658415f\n"
                 + "Rv-Guid: 658594315 175116777 2244485444 2378622895\n"
                 + "Rv-Guid-Str: 27415A0B0A7011E985C821448DC6E7AF\n"
                 + "Accept-Language: en\n"
                 + "Accept-Encoding: text\n"
                 + "Call-Info: <sip:6217451231264@135.60.86.32;token=49481>;Purpose=isfocus;gsid=27415A0B0A7011E985C821448DC6E7AF,<sip:6217451231264@135.60.86.32>;Purpose=ccmp,<https://csi7d-iview.richlab.avaya.com:443/uwd/ws?ticket=27415A0B0A7011E985C821448DC6E7AF>;Purpose=UCCP\n"
                 + "P-Conference: OutdialPrompt=false, FeedbackPrompts=false, UCCP=false\n"
                 + "Allow: INVITE,ACK,CANCEL,BYE,INFO,OPTIONS,UPDATE,REFER,NOTIFY,SUBSCRIBE,PRACK\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_716bd241-0d1c-499f-b3f0-26f046677292\n"
                 + "Contact: \"6217451231264\" <sip:6217451231264@135.60.86.32:5061;transport=TLS>;isfocus\n"
                 + "Session-Expires: 3600;refresher=uas\n"
                 + "Content-Type: application/sdp\n"
                 + "Content-Length: 468\n"
                 + "\n"
                 + "v=0\n"
                 + "o=RV-MCU 729925771 729925771 IN IP4 135.60.84.185\n"
                 + "s=RV MCU Session\n"
                 + "c=IN IP4 135.60.84.185\n"
                 + "b=AS:64\n"
                 + "t=0 0\n"
                 + "a=activetalker:1 \n"
                 + "a=videostream:1 \n"
                 + "m=audio 16436 RTP/AVP 96 101\n"
                 + "c=IN IP4 135.60.84.185\n"
                 + "a=rtpmap:96 opus/48000/2\n"
                 + "a=fmtp:96 minptime=20; useinbandfec=0; maxplaybackrate=16000; sprop-maxcapturerate=16000; maxaveragebitrate=20000; stereo=0; sprop-stereo=0; cbr=0; usedtx=0\n"
                 + "a=maxptime:20\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-15\n"
                 + "a=sendrecv\n"
                 + "\n"
                 + "SENT 'ACK' REQUEST \n"
                 + "\n"
                 + "ACK sip:6217451231264@135.60.86.32:5061;transport=TLS SIP/2.0\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 2 ACK\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Max-Forwards: 70\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_a178a79a-d533-4bca-b20f-14992b2ddb7a\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "SENT 'INVITE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "CSeq: 2 INVITE\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKB6F156D5.B6CE2DEADDAB134C;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Server: Avaya Aura Web Gateway\n"
                 + "Contact: <sip:6217451231264@135.60.86.6:5061;transport=tls>\n"
                 + "Supported: eventlist,outbound,replaces,timer\n"
                 + "Allow: INVITE,ACK,OPTIONS,BYE,CANCEL,NOTIFY,MESSAGE,REFER,INFO,PUBLISH,UPDATE\n"
                 + "Content-Type: application/sdp\n"
                 + "Content-Length: 858\n"
                 + "\n"
                 + "v=0\n"
                 + "o=AMS 1 5 IN IP4 127.0.0.1\n"
                 + "s=c51f97d1-6657-37f9-9be0-2a10e060af83\n"
                 + "e=unknown@invalid.net\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "t=0 0\n"
                 + "a=msid-semantic: WMS c51f97d1-6657-37f9-9be0-2a10e060af83\n"
                 + "m=audio 6768 RTP/SAVP 9 13 101\n"
                 + "c=IN IP4 135.60.86.230\n"
                 + "a=ice-ufrag:nuD1sy+s\n"
                 + "a=ice-pwd:d2qCGrmPjns+UGyEVaBdCAoc\n"
                 + "a=candidate:32 1 udp 2130706431 135.60.86.230 6768 typ host\n"
                 + "a=end-of-candidates\n"
                 + "a=rtpmap:9 G722/8000\n"
                 + "a=rtpmap:13 CN/8000\n"
                 + "a=rtpmap:101 telephone-event/8000\n"
                 + "a=fmtp:101 0-15\n"
                 + "a=maxptime:200\n"
                 + "a=ptime:20\n"
                 + "a=x-ssrc-range:4253574470-4253574470\n"
                 + "a=remote-candidates:1 10.130.107.110 15156 2 10.130.107.110 15156\n"
                 + "a=rtcp-mux\n"
                 + "a=crypto:2 AES_CM_128_HMAC_SHA1_80 inline:eflB24FhwC79QRSxtSUI8bO6i4hRSOU34PJ/jIor|2^31|1:1\n"
                 + "a=ssrc:4253574470 cname:146f2b49-a1a2-11e8-a0fe-b4b52f65c674\n"
                 + "a=ssrc:4253574470 msid:c51f97d1-6657-37f9-9be0-2a10e060af83 audio-0\n"
                 + "a=sendrecv\n"
                 + "\n"
                 + "RECEIVED 'ACK' REQUEST \n"
                 + "\n"
                 + "ACK sip:6217451231264@135.60.86.6:5061;transport=tls SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKB6F156D5.75A95993DDBAB34C;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Max-Forwards: 69\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "CSeq: 2 ACK\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'BYE' REQUEST \n"
                 + "\n"
                 + "BYE sip:6217451231264@135.60.86.6:5061;transport=tls SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKA72E643E.4DB19662DE6A734F;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Max-Forwards: 69\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "CSeq: 3 BYE\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "ms-client-diagnostics: 51004; reason=\"Action initiated by user\";UserType=\"Callee\";MediaType=\"audio\";MediaChanBlob=\"NetworkErr=no error,ErrTime=0,RTPSeq=0,SeqDelta=0,RTPTime=3754970037961,RTCPTime=0,TransptRecvErr=0x0,RecvErrTime=0,TransptSendErr=0x0,SendErrTime=0,InterfacesStall=0x0,InterfacesConnCheck=0x0,BlobVer=1\";BaseAddress=\"10.130.107.110:33108\";LocalAddress=\"10.130.107.110:15156\";LocalSite=\"10.130.107.110:15156\";NetworkName=\"csi71siteb.lab\";RemoteAddress=\"135.60.86.230:6768\";RemoteSite=\"135.60.86.230:6768\";MediaEpBlob=\"ICEWarn=0x100000,ICEWarnEx=0x1,LocalMR=135.60.84.158:57273,PortRange=1025:65000,LocalMRTCPPort=58324,LocalLocation=2,RemoteLocation=0,FederationType=0,StunVer=1,CsntRqOut=0,CsntRqIn=0,CsntRspOut=0,CsntRspIn=0,Interfaces=0x2,BaseInterface=0x2,Protocol=0,LocalInterface=0x2,LocalAddrType=0,RemoteAddrType=0,IceRole=1,RtpRtcpMux=1,FirstHopRTTInMs=1,MediaDllVersion=6.0.8941.633,BlobVer=1\";MediaMgrBlob=\"MrDnsE=csi71siteb-edge.richlab.avaya.com,MrResE=1,MrErrE=0,MrBgnE=37549700321013984,MrEndE=37549700321297376,MrDnsI=server4961-vm04.richlab.avaya.com,MrResI=1,MrErrI=0,MrBgnI=37549700321013864,MrEndI=37549700321029792,MrDnsCacheReadAttempt=0,BlobVer=1\"\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "SENT 'BYE' REQUEST \n"
                 + "\n"
                 + "BYE sip:6217451231264@135.60.86.32:5061;transport=TLS SIP/2.0\n"
                 + "CSeq: 3 BYE\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "Max-Forwards: 70\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_283a873e-70f1-47cf-8ff0-03ba14909902\n"
                 + "P-Asserted-Identity: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>\n"
                 + "User-Agent: UCCAPI/16.0.4417.1000 OC/16.0.4417.1000 (Skype for Business)\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "SENT 'BYE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "CSeq: 3 BYE\n"
                 + "Call-ID: 860b4b8bd8654c61892a031dc3869b2d\n"
                 + "From: <sip:skypeuser7715@csi71siteb.lab>;tag=9df06da6d1;epid=79587acddc\n"
                 + "To: <sip:6217451231264@avayamcs.com>;tag=2614983_7beb487_d48298b_b62a163c\n"
                 + "Via: SIP/2.0/TLS 10.130.107.246:52610;branch=z9hG4bKA72E643E.4DB19662DE6A734F;branched=FALSE;rport=52610\n"
                 + "Via: SIP/2.0/TLS 10.130.107.110:58028;ms-received-port=58028;ms-received-cid=195600\n"
                 + "Server: Avaya Aura Web Gateway\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'BYE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "From: \"user 7715,uclab\" <sip:skypeuser7715@csi71siteb.lab>;tag=1085622_7beb487_d48298b_65752c93\n"
                 + "To: <sip:6217451231264@135.60.86.32>;tag=7f40dc89a9a8-20563c87-13c4-55022-9e044-d07e1f-9e044\n"
                 + "Call-ID: ea1f948f7427040f88fb7f01a2f99742@135.60.86.6\n"
                 + "CSeq: 3 BYE\n"
                 + "Reason: avaya-action;cause=200;text=\"Call Disconnected\"\n"
                 + "Supported: replaces,tdialog,timer\n"
                 + "Rv-Guid: 658594315 175116777 2244485444 2378622895\n"
                 + "Rv-Guid-Str: 27415A0B0A7011E985C821448DC6E7AF\n"
                 + "Allow: INVITE,ACK,CANCEL,BYE,INFO,OPTIONS,UPDATE,REFER,NOTIFY\n"
                 + "Via: SIP/2.0/TLS 135.60.86.6:5061;branch=z9hG4bK65752c93_d48298b_283a873e-70f1-47cf-8ff0-03ba14909902\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n"
                 + "RECEIVED 'SUBSCRIBE' REQUEST \n"
                 + "\n"
                 + "SUBSCRIBE sip:6217451231027@avayamcs.com SIP/2.0\n"
                 + "Via: SIP/2.0/TLS 135.60.86.241:51816;branch=z9hG4bK6714DA2E.B9FB5A88537D134F;branched=FALSE;rport=51816\n"
                 + "Via: SIP/2.0/TLS 135.60.10.170:59128;ms-received-port=59128;ms-received-cid=442500\n"
                 + "Max-Forwards: 69\n"
                 + "ms-application-via: SIP;ms-urc-rs-from;ms-server=server4965vm2FE.sfb.lab;ms-pool=server4965vm2fe.sfb.lab;ms-application=ad894dc3-55e0-44bf-a07e-3c073aaa4a57\n"
                 + "From: \"W3 Leung\" <sip:sfb5066@sfb.lab>;tag=f8559778ae;epid=fbf50414f5\n"
                 + "To: <sip:6217451231027@avayamcs.com>\n"
                 + "Call-ID: f3b490ebefbe450bbc90ae51641ee436\n"
                 + "CSeq: 1 SUBSCRIBE\n"
                 + "Contact: <sip:sfb5066@sfb.lab;opaque=user:epid:8E99gCjbHViuDrK1p4JAIgAA;gruu>\n"
                 + "User-Agent: UCCAPI/16.0.9126.2315 OC/16.0.9126.2315 (Skype for Business)\n"
                 + "Event: presence\n"
                 + "Accept: application/msrtc-event-categories+xml,application/xpidf+xml,text/xml+msrtc.pidf,application/pidf+xml,application/rlmi+xml,multipart/related\n"
                 + "Supported: com.microsoft.autoextend,ms-piggyback-first-notify\n"
                 + "Content-Type: application/msrtc-adrl-categorylist+xml\n"
                 + "ms-routing-phase: from-uri-routing-done\n"
                 + "ms-user-data: ms-publiccloud=TRUE;ms-federation=TRUE\n"
                 + "Content-Length: 466\n"
                 + "\n"
                 + "<batchSub xmlns=\"http://schemas.microsoft.com/2006/01/sip/batch-subscribe\" uri=\"sip:sfb5066@sfb.lab\" name=\"\"><action name=\"subscribe\" id=\"557039448\"><adhocList><resource uri=\"sip:6217451231027@avayamcs.com\"/></adhocList><categoryList xmlns=\"http://schemas.microsoft.com/2006/09/sip/categorylist\"><category name=\"state\"/><category name=\"services\"/><category name=\"contactCard\"/><category name=\"note\"/><category name=\"calendarData\"/></categoryList></action></batchSub>\n"
                 + "SENT 'SUBSCRIBE' RESPONSE \n"
                 + "\n"
                 + "SIP/2.0 200 OK\n"
                 + "CSeq: 1 SUBSCRIBE\n"
                 + "Call-ID: f3b490ebefbe450bbc90ae51641ee436\n"
                 + "From: \"W3 Leung\" <sip:sfb5066@sfb.lab>;tag=f8559778ae;epid=fbf50414f5\n"
                 + "To: <sip:6217451231027@avayamcs.com>;tag=2447472_7beb487_d48298b_a090946c\n"
                 + "Via: SIP/2.0/TLS 135.60.86.241:51816;branch=z9hG4bK6714DA2E.B9FB5A88537D134F;branched=FALSE;rport=51816\n"
                 + "Via: SIP/2.0/TLS 135.60.10.170:59128;ms-received-port=59128;ms-received-cid=442500\n"
                 + "Server: Avaya Aura Web Gateway\n"
                 + "Contact: <sip:135.60.86.6:5061;transport=tls>\n"
                 + "Expires: 3600\n"
                 + "Content-Length: 0\n"
                 + "\n"
                 + "\n");

/*        if (powerButtonOn) {
            powerButton.setText("Off");
            powerButton.getStylesheets().add("/static/css/buttonOff.css");
            powerButton.getStylesheets().remove("/static/css/buttonOn.css");
            powerButtonOn = false;

            client.sendMessage("client_enable", false);
        } else {
            powerButton.setText("On");
            powerButton.getStylesheets().add("/static/css/buttonOn.css");
            powerButton.getStylesheets().remove("/static/css/buttonOff.css");
            powerButtonOn = true;

            client.sendMessage("client_enable", true);
        }*/
    }

    public void setClient(FXWebSocketClient client) {
        this.client = client;
    }

    public void setCodeArea(CodeArea codeArea) {
        this.codeArea = codeArea;
    }
}
